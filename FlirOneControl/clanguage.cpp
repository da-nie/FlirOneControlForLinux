//****************************************************************************************************
//подключаемые библиотеки
//****************************************************************************************************
#include "clanguage.h"
#include "clanguagerussian.h"
#include "clanguageenglish.h"

//****************************************************************************************************
//глобальные переменные
//****************************************************************************************************

std::unique_ptr<CLanguage> CLanguage::cLanguage_Ptr;
std::unique_ptr<ILanguage> CLanguage::iLanguage_Ptr;

//****************************************************************************************************
//константы
//****************************************************************************************************

//****************************************************************************************************
//макроопределения
//****************************************************************************************************

//****************************************************************************************************
//конструктор и деструктор
//****************************************************************************************************

//----------------------------------------------------------------------------------------------------
//конструктор
//----------------------------------------------------------------------------------------------------
CLanguage::CLanguage(void)
{ 
 SelectedLanguage=LANGUAGE_ENGLISH;
}
//----------------------------------------------------------------------------------------------------
//деструктор
//----------------------------------------------------------------------------------------------------
CLanguage::~CLanguage()
{
}

//****************************************************************************************************
//закрытые функции
//****************************************************************************************************

//****************************************************************************************************
//открытые функции
//****************************************************************************************************

//----------------------------------------------------------------------------------------------------
//получить указатель на класс сообщений
//----------------------------------------------------------------------------------------------------
CLanguage* CLanguage::GetPtr(void)
{
 if (cLanguage_Ptr.get()==NULL) cLanguage_Ptr.reset(new CLanguage());
 return(cLanguage_Ptr.get());
}
//----------------------------------------------------------------------------------------------------
//получить указатель на класс сообщений на выбранном языке
//----------------------------------------------------------------------------------------------------
ILanguage* CLanguage::GetTextPtr(void)
{
 if (iLanguage_Ptr.get()==NULL) SetLanguage(SelectedLanguage);
 return(iLanguage_Ptr.get());
}
//----------------------------------------------------------------------------------------------------
//задать язык
//----------------------------------------------------------------------------------------------------
void CLanguage::SetLanguage(LANGUAGE language)
{
 SelectedLanguage=language;
 if (SelectedLanguage==LANGUAGE_RUSSIAN) iLanguage_Ptr.reset(new CLanguageRussian());
 if (SelectedLanguage==LANGUAGE_ENGLISH) iLanguage_Ptr.reset(new CLanguageEnglish()); 
}
